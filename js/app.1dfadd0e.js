(function(){var s={7559:function(s,t,e){"use strict";var i=e(5130),n=e(6768);function o(s,t,e,i,o,u){const l=(0,n.g2)("AppMenu"),a=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(l),(0,n.bF)(a)],64)}var u=e(4232);const l={class:"menu"};function a(s,t,e,o,a,r){const d=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",{class:"hamburger_btn",onClick:t[0]||(t[0]=s=>a.ActiveBtn=!a.ActiveBtn)},[(0,n.Lk)("span",{class:(0,u.C4)(["line line_01",{btn_line01:a.ActiveBtn}])},null,2),(0,n.Lk)("span",{class:(0,u.C4)(["line line_02",{btn_line02:a.ActiveBtn}])},null,2),(0,n.Lk)("span",{class:(0,u.C4)(["line line_03",{btn_line03:a.ActiveBtn}])},null,2)]),(0,n.bF)(i.eB,{name:"menu"},{default:(0,n.k6)(()=>[(0,n.bo)((0,n.Lk)("div",l,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.bF)(d,{to:"/"},{default:(0,n.k6)(()=>t[1]||(t[1]=[(0,n.eW)("通常の表示",-1)])),_:1,__:[1]})]),(0,n.Lk)("li",null,[(0,n.bF)(d,{to:"/submit"},{default:(0,n.k6)(()=>t[2]||(t[2]=[(0,n.eW)("提出作業",-1)])),_:1,__:[2]})]),(0,n.Lk)("li",null,[(0,n.bF)(d,{to:"/settings"},{default:(0,n.k6)(()=>t[3]||(t[3]=[(0,n.eW)("設定",-1)])),_:1,__:[3]})])])],512),[[i.aG,a.ActiveBtn]])]),_:1})],64)}var r={data(){return{ActiveBtn:!1}}},d=e(1241);const c=(0,d.A)(r,[["render",a],["__scopeId","data-v-1f3abe18"]]);var h=c,m={components:{AppMenu:h}};const b=(0,d.A)(m,[["render",o]]);var v=b,p=e(1387);function S(s,t,e,i,o,u){const l=(0,n.g2)("SlideShow");return(0,n.uX)(),(0,n.Wv)(l,{interval:s.interval,submissions:s.submissions,students:s.students,submissionStatus:s.submissionStatus},null,8,["interval","submissions","students","submissionStatus"])}var g=e(782);const k={class:"list"},f={class:"yet"},L={key:0,class:"yets"},I={class:"yet"};function y(s,t,e,i,o,l){return(0,n.uX)(),(0,n.CE)("div",{class:"wrapper",onClick:t[0]||(t[0]=(...s)=>l.goFullscreen&&l.goFullscreen(...s))},[(0,n.Lk)("h1",null,(0,u.v_)(o.printTitle),1),(0,n.Lk)("div",k,[(0,n.Lk)("ul",f,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.printList,(s,t)=>((0,n.uX)(),(0,n.CE)("li",{class:"fade_in",key:s,style:(0,u.Tr)({animationDelay:.2*t+"s"})},(0,u.v_)(s),5))),128))]),o.printYet.length>0?((0,n.uX)(),(0,n.CE)("div",L,[t[1]||(t[1]=(0,n.Lk)("h2",null,"未提出者",-1)),(0,n.Lk)("ul",I,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.printYet,(s,t)=>((0,n.uX)(),(0,n.CE)("li",{class:"fade_in",key:s,style:(0,u.Tr)({animationDelay:.2*t+"s"})},(0,u.v_)(s),5))),128))])])):(0,n.Q3)("",!0)])])}e(4114),e(8111),e(7588);var x=e(144),_={props:["interval","submissions","students","submissionStatus"],data(){return{currentIndex:0,date:"",submissionCount:0,localSubmissions:this.submissions,localStudents:this.students,localStatus:this.submissionStatus,statusArr:[],printTitle:"",printList:[],printYet:[]}},created(){this.date=(new Date).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replaceAll("/","-")},mounted(){console.log(this.date),setInterval(this.showStatus,this.interval||3e3),this.showStatus()},methods:{goFullscreen(){document.documentElement.requestFullscreen()},showStatus(){if(0==this.submissionCount&&this.updateStatus(),console.log(this.submissionCount),this.submissionCount<1)return;const s=(0,x.ux)(this.statusArr);console.log(s[this.currentIndex]),this.printTitle=this.localSubmissions[s[this.currentIndex][0]];let t=[];s[this.currentIndex][1].forEach(s=>{t.push(this.localStudents[s])}),this.printList=t;let e=[];const i=(0,x.ux)(this.localStudents);Object.values(i).forEach(s=>{e.push(s)}),this.printYet=e.filter(s=>!t.includes(s)),this.currentIndex++,this.submissionCount==this.currentIndex&&(this.updateStatus(),this.currentIndex=0)},updateStatus(){if(console.log("更新"),!this.localStatus[this.date])return this.printList.push("提出物を登録してください。"),void(this.printTitle="提出未登録");const s=(0,x.ux)(this.localStatus[this.date]);this.submissionCount=Object.keys(s).length,this.statusArr=Object.entries(s)}}};const F=(0,d.A)(_,[["render",y],["__scopeId","data-v-ed86a0ae"]]);var D=F,C={components:{SlideShow:D},computed:{...(0,g.L8)(["slides","interval","submissions","students","submissionStatus"])}};const T=(0,d.A)(C,[["render",S]]);var w=T;function E(s,t,e,i,o,u){const l=(0,n.g2)("SettingsForm");return(0,n.uX)(),(0,n.Wv)(l,{slides:s.slides,interval:s.interval,onUpdateSettings:u.updateSettings,submissions:s.submissions,students:s.students,onSaveSubmissions:u.updateSubmissions,onSaveStudents:u.updateStudents},null,8,["slides","interval","onUpdateSettings","submissions","students","onSaveSubmissions","onSaveStudents"])}const A={class:"wrapper"},X={class:"form"},O={class:"box"},W={class:"table"},j={class:"edit"},J={class:"box"},U={class:"table"},K={class:"edit"},N={class:"box"},B={class:"table"};function $(s,t,e,o,l,a){return(0,n.uX)(),(0,n.CE)("div",A,[t[20]||(t[20]=(0,n.Lk)("h1",null,"設定",-1)),(0,n.Lk)("div",X,[t[18]||(t[18]=(0,n.Lk)("p",{class:"alert"},[(0,n.eW)(" はじめに、 "),(0,n.Lk)("a",{href:"https://docs.google.com/spreadsheets/d/1Dpo6MONqsIqU4Lo0PWyDwym41Uq9RTqR/edit?usp=sharing&ouid=115812607673416459316&rtpof=true&sd=true",target:"_blank",rel:"noopener noreferrer"},"スプレッドシート"),(0,n.eW)(" をご自身のドライブへコピーの保存して、バーコードを生成してください。 ")],-1)),(0,n.Lk)("div",O,[t[11]||(t[11]=(0,n.Lk)("h2",null,"提出物",-1)),(0,n.Lk)("div",W,[(0,n.bo)((0,n.Lk)("table",null,[t[9]||(t[9]=(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"ID"),(0,n.Lk)("th",null,"提出物名")],-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localSubmissions,(s,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("td",null,(0,u.v_)(t),1),(0,n.Lk)("td",null,(0,u.v_)(s),1)]))),128))],512),[[i.aG,!l.submissionsSetting]]),(0,n.bo)((0,n.Lk)("button",{onClick:t[0]||(t[0]=s=>l.submissionsSetting=!l.submissionsSetting)},"編集",512),[[i.aG,!l.submissionsSetting]]),(0,n.bo)((0,n.Lk)("div",j,[t[10]||(t[10]=(0,n.Lk)("p",null,"スプレッドシートから直接貼り付けてください。",-1)),(0,n.bo)((0,n.Lk)("textarea",{name:"",id:"","onUpdate:modelValue":t[1]||(t[1]=s=>l.submissionsText=s)},null,512),[[i.Jo,l.submissionsText]]),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...s)=>a.saveSubmissions&&a.saveSubmissions(...s))},"保存")],512),[[i.aG,l.submissionsSetting]])])]),(0,n.Lk)("div",J,[t[14]||(t[14]=(0,n.Lk)("h2",null,"生徒",-1)),(0,n.Lk)("div",U,[(0,n.bo)((0,n.Lk)("table",null,[t[12]||(t[12]=(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"ID"),(0,n.Lk)("th",null,"名前")],-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localStudents,(s,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("td",null,(0,u.v_)(t),1),(0,n.Lk)("td",null,(0,u.v_)(s),1)]))),128))],512),[[i.aG,!l.studentsSetting]]),(0,n.bo)((0,n.Lk)("button",{onClick:t[3]||(t[3]=s=>l.studentsSetting=!l.studentsSetting)},"編集",512),[[i.aG,!l.studentsSetting]]),(0,n.bo)((0,n.Lk)("div",K,[t[13]||(t[13]=(0,n.Lk)("p",null,"スプレッドシートから直接貼り付けてください。",-1)),(0,n.bo)((0,n.Lk)("textarea",{name:"",id:"","onUpdate:modelValue":t[4]||(t[4]=s=>l.studentsText=s)},null,512),[[i.Jo,l.studentsText]]),(0,n.Lk)("button",{onClick:t[5]||(t[5]=(...s)=>a.saveStudents&&a.saveStudents(...s))},"保存")],512),[[i.aG,l.studentsSetting]])])]),t[19]||(t[19]=(0,n.Lk)("div",{class:"box"},[(0,n.Lk)("h2",null,"提出状況のデータ"),(0,n.Lk)("div",{class:"table"}," aaaa ")],-1)),(0,n.Lk)("div",N,[t[17]||(t[17]=(0,n.Lk)("h2",null,"その他",-1)),(0,n.Lk)("div",B,[(0,n.Lk)("label",null,[t[15]||(t[15]=(0,n.eW)("表示間隔(秒): ",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=s=>l.localInterval=s),min:"1"},null,512),[[i.Jo,l.localInterval,void 0,{number:!0}]])]),(0,n.Lk)("label",null,[t[16]||(t[16]=(0,n.eW)("スライド内容（改行区切り）: ",-1)),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[7]||(t[7]=s=>l.localSlides=s)},null,512),[[i.Jo,l.localSlides]])]),(0,n.Lk)("button",{onClick:t[8]||(t[8]=(...s)=>a.saveSettings&&a.saveSettings(...s))},"保存")])])])])}e(2489);var G={props:["slides","interval","submissions","students"],data(){return{localSlides:this.slides.join("\n"),localInterval:this.interval/1e3,localSubmissions:this.submissions,localStudents:this.students,submissionsSetting:!1,studentsSetting:!1,submissionsText:"",studentsText:""}},methods:{saveSettings(){this.$emit("update-settings",{slides:this.localSlides.split("\n").filter(s=>""!==s.trim()),interval:1e3*this.localInterval})},saveSubmissions(){let s=this.submissionsText.split("\n"),t={};for(let e=0;e<s.length;e++){if(""==s[e])break;let i=s[e].split("\t");t[i[0]]=i[1]}console.log(t),this.$emit("save-submissions",t),this.localSubmissions=t,this.submissionsSetting=!1},saveStudents(){let s=this.studentsText.split("\n"),t={};for(let e=0;e<s.length;e++){if(""==s[e])break;let i=s[e].split("\t");console.log(i),t[1*i[1]]=i[0]}console.log(t),this.$emit("save-students",t),this.localStudents=t,this.studentsSetting=!1}}};const M=(0,d.A)(G,[["render",$],["__scopeId","data-v-9d2ad36a"]]);var P=M,V={components:{SettingsForm:P},computed:{...(0,g.L8)(["slides","interval","submissions","students"])},methods:{...(0,g.PY)(["updateSlides","updateInterval","saveSubmissions","saveStudents"]),updateSettings({slides:s,interval:t}){this.updateSlides(s),this.updateInterval(t),this.$router.push("/")},updateSubmissions(s){this.saveSubmissions(s)},updateStudents(s){this.saveStudents(s)}}};const Y=(0,d.A)(V,[["render",E]]);var q=Y;function R(s,t,e,i,o,u){const l=(0,n.g2)("SubmitForm");return(0,n.uX)(),(0,n.Wv)(l,{submissions:s.submissions,students:s.students,submissionStatus:s.submissionStatus,onSaveStatus:u.updateStatus},null,8,["submissions","students","submissionStatus","onSaveStatus"])}const Q={class:"wrapper"},z={class:"form"},H={class:"radio-a"},Z={class:"barcode"},ss={key:0,class:"toast"},ts={key:1,class:"toast"},es={key:0},is={key:1};function ns(s,t,e,o,l,a){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",Q,[t[6]||(t[6]=(0,n.Lk)("h1",null,"提出物を登録",-1)),(0,n.Lk)("div",z,[(0,n.Lk)("ul",H,[(0,n.Lk)("li",null,[(0,n.bo)((0,n.Lk)("input",{name:"type",id:"is-option-a",type:"radio",value:"true","onUpdate:modelValue":t[0]||(t[0]=s=>l.submitFlg=s)},null,512),[[i.XL,l.submitFlg]]),t[4]||(t[4]=(0,n.Lk)("label",{for:"is-option-a"},"提出",-1))]),(0,n.Lk)("li",null,[(0,n.bo)((0,n.Lk)("input",{name:"type",id:"is-option-b",type:"radio",value:"false","onUpdate:modelValue":t[1]||(t[1]=s=>l.submitFlg=s)},null,512),[[i.XL,l.submitFlg]]),t[5]||(t[5]=(0,n.Lk)("label",{for:"is-option-b"},"取消",-1))])]),(0,n.Lk)("div",Z,[(0,n.bo)((0,n.Lk)("input",{type:"text",ref:"barcode","onUpdate:modelValue":t[2]||(t[2]=s=>l.inputText=s),onKeydown:t[3]||(t[3]=(0,i.jR)((0,i.D$)(()=>{},["prevent"]),["enter"]))},null,544),[[i.Jo,l.inputText]])])])]),l.errorFlg&&l.toasted?((0,n.uX)(),(0,n.CE)("div",ss,[t[7]||(t[7]=(0,n.eW)(" エラー::",-1)),t[8]||(t[8]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)((0,u.v_)(l.errorMsg)+" ",1),t[9]||(t[9]=(0,n.Lk)("span",null,"/",-1))])):l.toasted?((0,n.uX)(),(0,n.CE)("div",ts,[(0,n.eW)((0,u.v_)(this.localStudents[this.studentsID])+"さん ",1),t[10]||(t[10]=(0,n.Lk)("span",null,"/",-1)),(0,n.eW)(" "+(0,u.v_)(this.localSubmissions[this.submissionsID])+" を",1),l.submitFlg?((0,n.uX)(),(0,n.CE)("span",es,"提出")):((0,n.uX)(),(0,n.CE)("span",is,"取り消")),t[11]||(t[11]=(0,n.eW)("しました。 ",-1))])):(0,n.Q3)("",!0)],64)}e(7642),e(8004),e(3853),e(5876),e(2475),e(5024),e(1698);var os={props:["submissions","students","submissionStatus"],emits:["save-status"],data(){return{date:"",errorFlg:!1,errorMsg:"",submitFlg:!0,inputText:"",toasted:!1,localSubmissions:this.submissions,localStudents:this.students,submissionsID:0,studentsID:0,localStatus:this.submissionStatus}},methods:{saveStatus(){this.$emit("save-status",this.localStatus)},error(s){this.errorMsg=s,this.inputText="",this.errorFlg=!0,this.toasted=!0,setTimeout(()=>{this.errorFlg=!1,this.toasted=!1},2e3)}},created(){this.date=(new Date).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replaceAll("/","-"),this.submitFlg=!0},mounted(){this.$refs.barcode.focus()},watch:{inputText(s){if(isNaN(s))return console.log(s+":notKazu"),this.inputText=this.inputText.slice(0,-1),this.error("バーコードを読み取るか、提出物の番号を入力してください。"),!1;if(7==s.length){let s=0;if(this.submissionsID=this.inputText%1e3,this.studentsID=this.inputText-this.submissionsID,this.studentsID in this.localStudents===!1&&(console.log("その生徒IDは存在しません。[stuId]"),this.error("その生徒IDは存在しません。[stuId]"),s++),this.submissionsID in this.localSubmissions===!1&&(console.log("その提出物は存在しません。[subId]"),this.error("その提出物は存在しません。[subId]"),s++),console.log(this.submissionsID,this.studentsID),console.log(this.localSubmissions[this.submissionsID]),console.log(this.localStudents[this.studentsID]),"false"==this.submitFlg){this.submitFlg=!1,console.log(this.submitFlg),this.localStatus[this.date]&&this.localStatus[this.date][this.submissionsID]||(console.log("まだ提出されていません。[date,id]"),this.error("まだ提出されていません。[date,id]"),s++);const t=this.localStatus[this.date][this.submissionsID].indexOf(this.studentsID);-1===t&&(console.log("まだ提出されていません。[stuId]"),this.error("まだ提出されていません。[stuId]"),s++),0===s&&(this.localStatus[this.date][this.submissionsID].splice(t,1),this.saveStatus())}else this.submitFlg=!0,0===s&&(this.localStatus[this.date]||(this.localStatus[this.date]={},console.log("日付作成")),this.localStatus[this.date][this.submissionsID]||(this.localStatus[this.date][this.submissionsID]=[]),this.localStatus[this.date][this.submissionsID].push(this.studentsID),this.localStatus[this.date][this.submissionsID]=[...new Set(this.localStatus[this.date][this.submissionsID])],this.saveStatus());this.toasted=!0,this.inputText="",setTimeout(()=>{this.toasted=!1},2e3)}}}};const us=(0,d.A)(os,[["render",ns],["__scopeId","data-v-09519274"]]);var ls=us,as={components:{SubmitForm:ls},computed:{...(0,g.L8)(["submissions","students","submissionStatus"])},methods:{...(0,g.PY)(["saveStatus"]),updateStatus(s){this.saveStatus(s)}}};const rs=(0,d.A)(as,[["render",R]]);var ds=rs;const cs=[{path:"/",name:"Slide",component:w},{path:"/settings",name:"Settings",component:q},{path:"/submit",name:"Submit",component:ds}];var hs=(0,p.aE)({history:(0,p.LA)(),routes:cs});const ms="slideAppData";var bs=(0,g.y$)({state:{slides:["おはようございます！","予定: 会議10:00","昼食はカレー🍛","午後は資料作成"],interval:3e3,submissions:[],students:[],submissionStatus:{}},mutations:{updateSlides(s,t){s.slides=t,localStorage.setItem(ms,JSON.stringify(s))},updateInterval(s,t){s.interval=t,localStorage.setItem(ms,JSON.stringify(s))},saveSubmissions(s,t){s.submissions=t,localStorage.setItem(ms,JSON.stringify(s))},saveStudents(s,t){s.students=t,localStorage.setItem(ms,JSON.stringify(s))},saveStatus(s,t){s.submissionStatus=(0,x.ux)(t),localStorage.setItem(ms,JSON.stringify(s))},loadFromStorage(s){const t=localStorage.getItem(ms);if(t){const e=JSON.parse(t);s.slides=e.slides,s.interval=e.interval,s.submissions=e.submissions,s.students=e.students,s.submissionStatus=e.submissionStatus}}},getters:{slides:s=>s.slides,interval:s=>s.interval,submissions:s=>s.submissions,students:s=>s.students,submissionStatus:s=>s.submissionStatus},actions:{init({commit:s}){s("loadFromStorage")}}});e(7993);const vs=(0,i.Ef)(v);bs.dispatch("init"),vs.use(hs).use(bs).mount("#app")},7993:function(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(()=>{console.log("Service Worker Registered")})})}},t={};function e(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return s[i].call(o.exports,o,o.exports,e),o.exports}e.m=s,function(){var s=[];e.O=function(t,i,n,o){if(!i){var u=1/0;for(d=0;d<s.length;d++){i=s[d][0],n=s[d][1],o=s[d][2];for(var l=!0,a=0;a<i.length;a++)(!1&o||u>=o)&&Object.keys(e.O).every(function(s){return e.O[s](i[a])})?i.splice(a--,1):(l=!1,o<u&&(u=o));if(l){s.splice(d--,1);var r=n();void 0!==r&&(t=r)}}return t}o=o||0;for(var d=s.length;d>0&&s[d-1][2]>o;d--)s[d]=s[d-1];s[d]=[i,n,o]}}(),function(){e.n=function(s){var t=s&&s.__esModule?function(){return s["default"]}:function(){return s};return e.d(t,{a:t}),t}}(),function(){e.d=function(s,t){for(var i in t)e.o(t,i)&&!e.o(s,i)&&Object.defineProperty(s,i,{enumerable:!0,get:t[i]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"===typeof window)return window}}()}(),function(){e.o=function(s,t){return Object.prototype.hasOwnProperty.call(s,t)}}(),function(){var s={524:0};e.O.j=function(t){return 0===s[t]};var t=function(t,i){var n,o,u=i[0],l=i[1],a=i[2],r=0;if(u.some(function(t){return 0!==s[t]})){for(n in l)e.o(l,n)&&(e.m[n]=l[n]);if(a)var d=a(e)}for(t&&t(i);r<u.length;r++)o=u[r],e.o(s,o)&&s[o]&&s[o][0](),s[o]=0;return e.O(d)},i=self["webpackChunksubmission"]=self["webpackChunksubmission"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=e.O(void 0,[504],function(){return e(7559)});i=e.O(i)})();
//# sourceMappingURL=app.1dfadd0e.js.map